## 개요

iOS의 첫 프로젝트로는 날씨 앱을 만들어보려고 한다.  
MVC, MVVM, TCA 등등의 아키텍쳐를 모두 사용해보고 취업을 준비하고 싶은데,

첫 프로젝트부터 큰 규모의 프로젝트는 별로 하고 싶지 않았고 UIKit을 사용한 작은 규모의 프로젝트를 하고 싶었다.

많이들 만드는 투두앱이나 일기앱은 내가 실제로 사용하질 않으니 애정을 갖고 만들긴 힘들거라 생각했고

그러던 중에 날씨앱으로 괜찮은 아이디어가 떠올랐다.

등하교와 아르바이트 출퇴근으로 오토바이를 타고 있는데 나가기 전 기온이나 강수확률을 확인하고 나가지만

미처 비나 눈이 오는걸 확인하지 못하거나 수치로 나오는 기온이 내게 와닿지가 않았다.

이런 부분에서 아이디어를 얻어 기온, 체감온도, 습도, 풍속풍향, 강수확률, 미세먼지, 자외선지수, 가시거리, 등등등

운행에 영향을 주는 날씨요소들을 잘 솎아서 ‘출퇴근지수’와 같은 직관적인 점수로 표시하면 좋을 것 같다는 생각이 들었다.

단순히 오토바이뿐만이 아니라, 자전거나 킥보드와 같은 날씨의 영향을 많이 받는 이동수단으로 출퇴근하는 사용자들을 타겟으로

앱을 개발하면 어느 정도 고정적인 유저층을 확보할 수 있을 것 같다.

이런 이동수단들은 근교 투어를 다니거나 부업이나 전업으로 배달을 뛰는 경우도 많으니

업데이트를 통해 투어지수나 배달지수 등등을 추가할 수도 있어 확장성도 합격이다.

---

## 날씨 데이터

### 기상청

![[KMA.png|400]]

다음으로는 날씨 데이터를 어떻게 받아올 것인지 결정해야 한다.

처음에는 당연히 공공데이터 기상청 API를 통해 받아올까 생각했는데 사용자의 위치와 API에서의 행정코드도 맞춰줘야하고

위, 경도 정보를 바로 요청받는게 아니라 이걸 다시 격자 정보로 바꿔서 보내야 한다.

어려운 작업은 아니지만 CoreLocation에서는 위, 경도 정보를 보내주니..

신뢰도는 가장 높지만 날씨 데이터라는게 하나 선택하면 나중에 바꿀 수 없는 것도 아니고,

일단 나는 애플 날씨 기본앱을 쓰면서 큰 불편함이 없었다.

나중에 신뢰도로 인한 피드백이 온다면 그 때 고려해도 늦진 않을 것 같다.

### OpenWeatherMap 

![[Openweathermap.png|131]]

이런 것도 있는데, 무료고, 엄청나게 많은 정보를 제공한다.  
그러나 위의 공공데이터 기상청 API와 마찬가지로 지역 정보를 영어로 보내줘야해서 불편하고,

무엇보다 무료로 사용하려면 제약이 꽤 많다. 얘를 사용하느니 그냥 기상청 API를 사용할 듯 하다..

간단하게 테스트할 목적으로는 괜찮은 듯 하다.

### WeatherKit

![[Weatherkit.png|131]]

Apple이 WWDC 2022에서 공개한 날씨 API이다.  
일단 Apple이 만든거니 iOS 개발에서의 접근성은 말할 필요도 없고,

HealthKit이나 MapKit 같이 First-Party 프레임워크를 사용해보고 싶었는데 마침 사용할 기회가 온 것 같아 사용하기로 했다.

정확도야 기상청만큼은 못하겠지만.. 사실 나는 그것도 잘 모르겠다.

나는 일단 날씨 기본앱을 주로 쓰고 가끔 중요한 날엔 네이버 날씨나 아큐웨더를 보는데 큰 차이를 못 느꼈다.

무엇보다 iOS 개발자 입장에선 가장 편한 방법이다. 지금 날씨 데이터를 구현하고 느낀건데 RestAPI는 몰라도 Swift Native 코드는 정말 간결하다.

오히려 현재 위치를 가져오는 CL 코드가 더 길고 복잡하다.

코드가 짧다고 항상 좋은 건 아니지만 쉽게 사용할 수 있다는 점은 개발자에게 큰 이점이다.

물론 개발자 위주로 개발하는 것만이 정답은 아니다.

어쨌건 나 혼자 사용할 앱이 아니라 사람들에게 서비스하는 앱이니 사용자의 피드백이 가장 중요하고,

출시 이후 피드백에 따라 기상청 API로 전환할 생각은 하고 있어야 한다고 생각한다.

---

## 나머지는 나중에 생각하자..

제일 중요한 기능은 ‘출퇴근지수’이고, 이게 내 앱에서 가장 차별화된 부분이니 당분간은 이것에 집중해 개발하려고 한다.  
개발 중 이슈들은 정리해서 블로그에 올릴 예정이다!>)